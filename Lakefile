import = [
  "lake/lib/busybox",
]


config {
  # Shell? Builder? Interpreter? Command?
  shell = busybox.shell
}

target "hello" { script = "echo 'hello $1'" }

# Do self references work? Doesn't this loop infinitely? How do wildcard matches
# work with various identifier names? Like what if I have another target called
# "./other.Lakefile"?
#
# fwiw Make doesn't allow this, how do we do modification of existing files?
# just as target commands?
#
# TODO: disallow globs and circular references (if we figure out how to add them
# we can do it later)
target "./*Lakefile" {
  inputs = ["./*Lakefile"]
  script = <<EOH
  nomad fmt .
  EOH
}
